<!--<button pButton-->
<!--        pRipple-->
<!--        type="button"-->
<!--        [routerLink]="['/perfil']"-->
<!--        icon="pi pi-angle-left"-->
<!--        label="Volver al perfil"-->
<!--        class="p-button-rounded p-button-text">-->
<!--</button>-->

<div class="p-grid">
  <div class="p-col-12 p-md-6 p-lg-6 p-md-offset-3 p-lg-offset-4">
    <div class="contact-form p-grid p-fluid">
      <form [formGroup]="form" (ngSubmit)="updateUser(form)">
        <div class="avatar">
          <h2 class="title">Editar perfil</h2>
          <img *ngIf="!imgTemp" [src]="usuario.img | imagen" alt="Italian Trulli">
          <img *ngIf="imgTemp" class="img-avatar" [src]="imgTemp" alt="avatar">
          <div class="upload-avatar">
            <label class="pi pi-camera cursor" for="uploadImage" style="font-size: 2rem"></label>
            <input type="file"
                   id="uploadImage"
                   (change)="cambiarImagen($event.target['files'][0])">
          </div>
        </div>
        <h5>Tus Datos</h5>
        <div class="p-grid p-fluid">
          <div class="p-col-12 p-md-6">
            <div class="p-field">
              <label for="userName">Nick</label>
              <div class="p-inputgroup">
                <span class="p-inputgroup-addon not-padding"><i class="pi pi-user"></i></span>
                <input
                  type="text"
                  name="userName"
                  id="userName"
                  formControlName="userName"
                  pInputText
                  placeholder="Nombre de usuario">
              </div>
              <small *ngIf="usernameInvalid" class="p-error">Ingrese al menos 5 carácteres</small>
            </div>
          </div>
          <div class="p-col-12 p-md-6">
            <div class="p-field">
              <label for="email">Correo</label>
              <div class="p-inputgroup">
                <span class="p-inputgroup-addon not-padding"><i class="pi pi-envelope"></i></span>
                <input type="email"
                       name="email"
                       id="email"
                       formControlName="email"
                       pInputText
                       placeholder="example@correo.com">
              </div>
              <small *ngIf="emailInvalid" class="p-error">Ingrese un email valido</small>
            </div>
          </div>
        </div>
        <div class="p-grid p-fluid">
          <div class="p-col-12 p-md-4">
            <div class="p-field">
              <label for="gender">Género</label>
              <input type="text"
                     name="gender"
                     formControlName="sex"
                     pInputText
                     id="gender">
            </div>
          </div>
          <div class="p-col-12 p-md-4">
            <div class="p-field">
              <label for="birth-date">Fecha de nacimiento</label>
              <p-calendar formControlName="birthDate"
                          id="birth-date"
                          [showIcon]="true"
                          [monthNavigator]="true"
                          yearRange="1950:2030"
                          [yearNavigator]="true"
                          inputId="birth-date">
              </p-calendar>
            </div>
          </div>
          <div class="p-col-12 p-md-4">
            <div class="p-field">
              <label for="country">Pais</label>
              
              <p-dropdown [(ngModel)]="selectedCountry"
                          [options]="countries"
                          optionLabel="name"
                          [filter]="true"
                          filterBy="name"
                          formControlName="country"
                          id="country"
                          placeholder="Tu pais">
                <ng-template pTemplate="selectedItem">
                  <div class="country-item country-item-value" *ngIf="selectedCountry">
                    <div>{{selectedCountry['name']}}</div>
                  </div>
                </ng-template>
                <ng-template let-country pTemplate="item">
                  <div class="country-item">
                    <div>{{country['name']}}</div>
                  </div>
                </ng-template>
              </p-dropdown>
            </div>
          </div>
        </div>
        <div class="p-grid p-fluid">
          <div class="p-col-12 p-md-6">
            <div class="p-field">
              <label for="password">Contraseña</label>
              <input
                type="password"
                name="password"
                id="password"
                formControlName="password"
                pInputText>
              <small *ngIf="passwordInvalid" class="p-error">Ingrese al menos 8 carácteres</small>
            </div>
          </div>
          <div class="p-col-12 p-md-6">
            <div class="p-field">
              <label for="password-confirmation">Repetir contraseña</label>
              <input
                type="password"
                name="password-confirmation"
                formControlName="confirmPassword"
                id="password-confirmation"
                pInputText>
              <small *ngIf="confirmPasswordInvalid" class="p-error">La contraseña debe coincidir</small>
            </div>
          </div>
        </div>
        <h5>Redes Sociales</h5>
        <div class="p-grid p-fluid">
          <div class="p-col-12 p-md-6">
            <div class="p-field">
              <div class="p-inputgroup">
                <span class="p-inputgroup-addon not-padding"><i class="pi pi-facebook p-mr-2"></i>
                  facebook.com/</span>
                <input type="text"
                       id="facebook"
                       pInputText
                       formControlName="facebook"
                       placeholder="">
              </div>
            </div>
          </div>
          <div class="p-col-12 p-md-6">
            <div class="p-field">
              <div class="p-inputgroup">
                <span class="p-inputgroup-addon"><i class="pi pi-github p-mr-2"></i>
                  github.com/</span>
                <input type="text"
                       id="github"
                       pInputText
                       formControlName="github"
                       placeholder="">
              </div>
            </div>
          </div>
        </div>
        <div class="p-grid p-fluid">
          <div class="p-col-12 p-md-6">
            <div class="p-field">
              <div class="p-inputgroup">
                <span class="p-inputgroup-addon"><i class="pi pi-facebook p-mr-2"></i>
                  linkedIn.com/</span>
                <input type="text"
                       id="linkedIn"
                       pInputText
                       formControlName="linkedIn"
                       placeholder="">
              </div>
            </div>
          </div>
          <div class="p-col-12 p-md-6">
            <div class="p-field">
              <div class="p-inputgroup">
                <span class="p-inputgroup-addon"><i class="pi pi-twitter p-mr-2"></i>
                  twitter.com/</span>
                <input type="text"
                       id="twitter"
                       pInputText
                       formControlName="github"
                       placeholder="">
              </div>
            </div>
          </div>
        </div>
        <h5>¡Cuéntanos tu historia!</h5>
        <div class="p-field">
          <label>Biografía</label>
          <textarea [rows]="5"
                    [cols]="30"
                    pInputTextarea
                    formControlName="bio">
          </textarea>
          <small *ngIf="bioInvalid" class="p-error">Máximo 140 carácteres</small>
        </div>
        <div class="p-field">
          <p-button [disabled]="usernameInvalid || emailInvalid"
                    type="submit"
                    label="Guardar cambios">
          </p-button>
        </div>
      </form>
    </div>
  </div>
</div>
